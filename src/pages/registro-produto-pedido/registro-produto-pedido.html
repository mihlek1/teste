<ion-header>

  <ion-navbar>
    <ion-title>Adicione produtos ao pedido</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <form (ngSubmit)="prodPedido()" [formGroup]="formVenda">

    <div text-center>
      <img width="125" height="125" src="../assets/imgs/orderImage.jpg" alt="">
    </div>

    <ion-list inset >
 
      <ion-item>
        <ion-label>Produto</ion-label>
        <ion-select (ionChange)="setProduto($event)" formControlName="produto">
          <ion-option value="{{prod.id}}" *ngFor="let prod of produtos | async">{{prod.nome}}</ion-option>
        </ion-select>
      </ion-item> 

      <div ngxErrors="produto">
        <div [ngxError]="['required']" [when]="['touched']">Selecione o produto</div>
      </div>  

      
      <ion-item>
        <ion-input type="text"  placeholder="Quantidade" formControlName="quantidade"></ion-input>
      </ion-item>
     
      <div ngxErrors="quantidade">
        <div [ngxError]="['required']" [when]="['touched']">Digite a quantidade de produtos</div>
      </div>


      <ion-item  *ngFor = "let prod2 of produtos2 | async">
        <ion-input type="text" value="{{prod2.preco}}" [readonly]="isReadonly()" placeholder="Valor do Produto" formControlName="valorUnidade"></ion-input>
      </ion-item>
     
      <div ngxErrors="valorUnidade">
        <div [ngxError]="['required']" [when]="['touched']"></div>
      </div>


      <div padding-horizontal>

        <button ion-button round color="lightgreen" full type="submit" [disabled]="!formVenda.valid">Registro</button>

      </div>

    </ion-list>

  </form>

</ion-content>
